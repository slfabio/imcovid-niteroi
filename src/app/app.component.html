<div class="container" style="text-align:center">
  <nav class="navbar navbar-dark bg-info">
    <ul class="navbar-nav bd-navbar-nav flex-row">
      <li class="nav-item">
        <a class="nav-link {{ inicio }}" href="#" (click)="acessar('inicio')">Início</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {{ indicadores }}" href="#" (click)="acessar('indicadores')">Indicadores</a>
      </li>
      <li class="nav-item">
        <a class="nav-link {{ dados }}" href="#" (click)="acessar('dados')">Dados</a>
      </li>
    </ul>  
    <b class="bg-info" style="color:#ffffff;">{{ title }}</b>
  </nav>
  <div class="atualizacao">
    <span>Atualizado em {{ dtAtualizacao }}</span> 
    <span>Contato: niteroi.monitoramento@gmail.com</span>
  </div>
  <!----------------------------------  PAGINA INICIO ---------------------------------->
  <div *ngIf="inicio" class="conteudo">
    <div class="pagina-tit">
      <h3><span class="badge badge-pill badge-info">Sinal da Semana</span></h3>
    </div>
    <div class="apresentacao">
      Esse site <u>não é da prefeitura</u>, é um site independente que disponibiliza a evolução dos indicadores 
      divulgados pela <a target="_blank" href="http://www.saude.niteroi.rj.gov.br/" >Fundação Municipal de Saúde de Niterói</a>, 
      com o objetivo de dar maior transparência na evolução desses indicadores.
    </div>
    <div class="card">
      <div class="card-header card-titulo">
        <span>
          <div>Estágio da Semana: {{ estagio.indice }}</div>
        </span>
        <table class="tb-classificacao">
          <tr>
            <td *ngFor="let classe of estagio.classes" class="{{ classe.id }}">{{ classe.nome }}: {{ classe.valores }}</td>
          </tr>
        </table>
      </div>
      <div *ngIf="true">
        <div class="row">
          <div class="col">
            <div class="card sinal-semana sinal-semana-{{ estagio.classe.id }}">
              <h1>{{ estagio.sinal }}</h1>
              De {{estagio.semana}}
            </div>
          </div>
          <div class="col">
            <div class="card indicador">
              <span class="indicador-titulo bg-info"> Estágio da Semana </span>
              <ngx-charts-bar-vertical class="card-img-top"
                [view]="view"
                [scheme]="colorScheme"
                [results]="estagio.graficoIndice"
                [customColors]="estagio.corSinal"
                [xAxis]="showXAxis"
                [yAxis]="showYAxis">
              </ngx-charts-bar-vertical>
            </div>
          </div>
        </div>
      </div> 
    </div>
  </div>

  <!----------------------------------  PAGINA INDICADORES ---------------------------------->
  <div *ngIf="indicadores" class="conteudo">
    <h3><div class="pagina-tit">
      <h3><span class="badge badge-pill badge-info">Indicadores</span></h3>
    </div></h3>
    O Decreto Municipal 13.604/2020 instituiu o Plano de Transição Gradual para o Novo Normal - Distanciamento Responsável para fins de prevenção e de enfrentamento à epidemia 
    causada pelo novo Coronavírus (COVID-19) no âmbito do Município de Niterói.<br/>
    O <a href="#" (click)="exibirDecreto()">Capítulo II</a>, que define os 12 indicadores de monitoramento, está disponível em nossa página.
    O decreto na íntegra está no 
    <a href="http://www.pgm.niteroi.rj.gov.br/legislacao_pmn/2020/Decretos/DECRETO%20N%C2%BA13.604%20Institui%20o%20Plano%20de%20Transi%C3%A7%C3%A3o%20Gradual%20para%20o%20Novo%20Normal.pdf" 
      target="_blank"> site da prefeitura</a>.
    <br/><br/>
    <div> 
      <a *ngIf="exibeDecreto" href="#" (click)="acessar('indicadores')">Voltar para Indicadores</a>
    </div>
    <decreto [exibeDecreto]="exibeDecreto"></decreto>
    <div *ngIf="!exibeDecreto">
      <div class="exibe-graf"> 
        <span><i>No celular melhor visulizado na horizontal</i></span>
        <span>
          <a href="#" (click)="expandir(true)">+ Expandir</a>
          &nbsp;
          <a href="#" (click)="expandir(false)">- Diminuir</a>
        </span>
      </div>
      <div *ngFor="let medida of medidas" class="card medida">
        <div class="card-header card-titulo pointer" (click)="exibirGraficos(medida)">
          <span>{{ medida.nome }}</span>
          <table class="tb-classificacao">
            <tr>
              <td *ngFor="let classe of medida.classes" class="{{ classe.id }}">{{ classe.nome }}: {{ classe.valores }}</td>
            </tr>
          </table>
        </div>
        <div *ngIf="exibeGraficos(medida.id)">
          <div class="row" *ngFor="let indicador of medida.indicadores">
            <div class="col">
              <div class="card indicador">
                <span class="indicador-titulo bg-info"> {{ indicador.nome }} </span>
                <ngx-charts-bar-vertical *ngIf="!medida.graficoPercentual" class="card-img-top"
                  [view]="view"
                  [scheme]="colorScheme"
                  [customColors]="indicador.corSinal"
                  [results]="indicador.graficoIndice"
                  [gradient]="gradient"
                  [xAxis]="showXAxis"
                  [yAxis]="showYAxis"
                  [legend]="showLegend"
                  [showXAxisLabel]="showXAxisLabel"
                  [showYAxisLabel]="showYAxisLabel"
                  [xAxisLabel]="xAxisLabel"
                  [yAxisLabel]="yAxisLabel"
                  (select)="onSelect($event)">
                </ngx-charts-bar-vertical>
                <ngx-charts-bar-vertical-normalized *ngIf="medida.graficoPercentual" class="card-img-top"
                  [view]="view"
                  [scheme]="colorScheme"
                  [customColors]="indicador.corSinal"
                  [results]="indicador.graficoIndice"
                  [gradient]="gradient"
                  [xAxis]="showXAxis"
                  [yAxis]="showYAxis"
                  [legend]="showLegend"
                  [showXAxisLabel]="showXAxisLabel"
                  [showYAxisLabel]="showYAxisLabel"
                  [xAxisLabel]="xAxisLabel"
                  [yAxisLabel]="yAxisLabel"
                  (select)="onSelect($event)">
                </ngx-charts-bar-vertical-normalized>
              </div>
            </div>
            <div class="col">
              <div class="card indicador">
                <span class="indicador-titulo bg-info"> {{ indicador.numerador.nome }} </span>
                <ngx-charts-bar-vertical class="card-img-top"
                  [view]="view"
                  [scheme]="colorScheme"
                  [customColors]="indicador.corSinal"
                  [results]="indicador.graficoNumerador"
                  [gradient]="gradient"
                  [xAxis]="showXAxis"
                  [yAxis]="showYAxis"
                  [legend]="showLegend"
                  [showXAxisLabel]="showXAxisLabel"
                  [showYAxisLabel]="showYAxisLabel"
                  [xAxisLabel]="xAxisLabel"
                  [yAxisLabel]="yAxisLabel"
                  (select)="onSelect($event)">
                </ngx-charts-bar-vertical>
              </div>
            </div> 
          </div> <!--indicador-->
        </div> <!--exibe grafico-->
      </div> <!--Medida-->
    </div> <!-- graficos-->
  </div> <!-- indicadores -->

  <!----------------------------------  PAGINA DADOS ---------------------------------->
  <div *ngIf="dados" class="conteudo">
    <div class="pagina-tit">
      <h3><span class="badge badge-pill badge-info">Dados</span></h3>
    </div>
    Semanalmente a Fundação Municipal de Saúde de Niterói atualiza em seu site os indicadores de monitoramento da COVID-19 na cidade. 
    Porém os dados da semana anterior são removidos, impossibilitando o acompanhamento do histórico dos índices
    e da evolução geral da sinalização adotada pelo município.<br/>
    Nosso site armazena e disponibiliza todos os boletins para que toda a população possa acompanhar com 
    maior transparência a evolução do estágio da COVID-19 na cidade. Disponibilizamos também os dados consolidados, em formato JSON,
    com a série histórica de cada indicador, permitindo que outros sites possam utilizar a informação e disponibilizar em formatos 
    diferentes dos fornecidos nessa página.<br/><br/>
    
    <div class="pagina-tit" *ngFor="let fonte of fonteDados">
      <a target="_blank" href="/assets/dados/{{ fonte.nome }}">{{ fonte.desc }}</a>
    </div>
    <br/>
    <i><u>*Atualizamos os dados toda segunda-feira, logo após a divulgação dos dados oficiais no site da Fundação Municipal de Saúde.</u></i>
  </div>
</div> <!-- container-->
<router-outlet></router-outlet>